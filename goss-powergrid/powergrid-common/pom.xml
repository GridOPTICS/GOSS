<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<artifactId>goss-powergrid-common</artifactId>
	<packaging>bundle</packaging>

	<name>GOSS Powergrid Common</name>
	<description>
        Goss powergrid common library that holds all of the models that are available on both
        the client and the server.  In addition the powergrid Request objects are specified
        in this module.
    </description>

	<parent>
		<groupId>pnnl.goss</groupId>
		<artifactId>goss-powergrid</artifactId>
		<version>0.1.6-SNAPSHOT</version>
		<relativePath>../pom.xml</relativePath>
	</parent>

	<dependencies>
		<dependency>
			<groupId>javax</groupId>
			<artifactId>javaee-api</artifactId>
			<version>${javax-javee-api.version}</version>
		</dependency>
		
		<!-- <dependency>
			<groupId>javax.xml.bind</groupId>
			<artifactId>jaxb-api</artifactId>
		</dependency>
		<dependency>
			<groupId>com.sun.xml.bind</groupId>
			<artifactId>jaxb-impl</artifactId>
		</dependency> -->
		<dependency>
			<groupId>org.apache.felix</groupId>
			<artifactId>org.apache.felix.ipojo.annotations</artifactId>
			<version>${ipojo.version}</version>
		</dependency>
		<dependency>
			<groupId>com.impetus.kundera.core</groupId>
			<artifactId>kundera-core</artifactId>
			<version>${kundera.version}</version>
		</dependency>
		
		<dependency>
			<groupId>pnnl.goss</groupId>
			<artifactId>goss-core</artifactId>
		</dependency>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
		</dependency>
	</dependencies>
	<build>
		<plugins>
			<!-- schemaDirectory - The directory where all schema's should be put 
				.xsd packageName - The package that the schema's should be created in. outputDirectory 
				- The working directory to create the generated java source files. ***** 
				IMPORTANT that the directory will be erased before the source is generated, 
				so be very careful about where the directory is located. Enable this plugin 
				to auto-gen the powergrid datamodel from an xsd. In order for the objects 
				to be serializable make sure the xsd has the following namespace/annotation 
				declaration xmlns:jaxb="http://java.sun.com/xml/ns/jaxb" xmlns:xjc="http://java.sun.com/xml/ns/jaxb/xjc" 
				jaxb:extensionBindingPrefixes="xjc" jaxb:version="1.0"> <xs:annotation> <xs:appinfo> 
				<jaxb:globalBindings generateIsSetMethod="true"> <xjc:serializable uid="12343"/> 
				</jaxb:globalBindings> </xs:appinfo> </xs:annotation> -->
			<!-- <plugin> <groupId>org.codehaus.mojo</groupId> <artifactId>jaxb2-maven-plugin</artifactId> 
				<version>1.5</version> <executions> <execution> <id>xjc</id> <goals> <goal>xjc</goal> 
				</goals> </execution> </executions> <configuration> <arguments>-extension</arguments> 
				<schemaDirectory>${basedir}/src/main/resources/xsds</schemaDirectory> <packageName>pnnl.goss.powergrid.datamodel</packageName> 
				<outputDirectory>${basedir}/src/main/java/gen</outputDirectory> </configuration> 
				</plugin> -->
			<plugin>
				<groupId>org.apache.felix</groupId>
				<artifactId>maven-ipojo-plugin</artifactId>
				<version>${ipojo.version}</version>
				<executions>
					<execution>
						<goals>
							<goal>ipojo-bundle</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.felix</groupId>
				<artifactId>maven-bundle-plugin</artifactId>
				<extensions>true</extensions>
				<configuration>
					<instructions>
						<Import-Package>
							*
						</Import-Package>
						<Export-Package>							
							pnnl.goss.powergrid,
							pnnl.goss.powergrid.topology,
							pnnl.goss.powergrid.topology.nodebreaker,
							pnnl.goss.powergrid.collections,
							pnnl.goss.powergrid.datamodel,
							pnnl.goss.powergrid.requests
						</Export-Package>
					</instructions>
				</configuration>
			</plugin>

		</plugins>
	</build>
</project>
